{"version":3,"sources":["kendo.ripple.js"],"names":["f","define","closest","createRipple","once","activate","finishAnimation","release","deactivate","register","this","kendo","util","window","ripple","element","selector","matches","node","i","document","ownerDocument","querySelectorAll","length","item","parentElement","doc","blob","createElement","className","appendChild","eventName","fn","listener","removeEventListener","remove","addEventListener","containerSelector","options","e","container","doubleFocus","_a","state","eventType","rect","left","top","xMax","yMax","dx","dy","size","duration","target","test","type","classList","contains","add","animated","released","focusin","keydown","mousedown","pointerdown","touchdown","currentTarget","getComputedStyle","getPropertyValue","getBoundingClientRect","clientX","clientY","width","height","Math","sqrt","style","cssText","setTimeout","parentNode","removeChild","transition","opacity","root","elements","flatten","arr","concat","apply","handlers","map","defaultOptions","events","global","activator","body","forEach","evt","deepExtend","amd","a1","a2","a3","$","undefined","ui","Widget","extend","RippleContainer","init","that","call","wrapper","registerListeners","name","el","nextElementSibling","removeListeners","callback","destroy","plugin","jQuery"],"mappings":"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","file":"kendo.ripple.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/ripple', ['kendo.core'], f);\n}(function () {\n    (function () {\n        this.kendo.util = this.kendo.util || {};\n        window.kendo.util.ripple = window.kendo.util.ripple || {};\n        var closest = function (element, selector) {\n            if (element.closest) {\n                return element.closest(selector);\n            }\n            var matches = (element.document || element.ownerDocument).querySelectorAll(selector);\n            var node = element;\n            var i = 0;\n            do {\n                i = matches.length - 1;\n                while (i >= 0 && matches.item(i) !== node) {\n                    i -= 1;\n                }\n                if (i < 0) {\n                    break;\n                }\n                node = node.parentElement;\n            } while (node);\n            return node;\n        };\n        var createRipple = function (doc) {\n            var ripple = doc.createElement('div');\n            ripple.className = 'k-ripple';\n            var blob = doc.createElement('div');\n            blob.className = 'k-ripple-blob';\n            ripple.appendChild(blob);\n            return [\n                ripple,\n                blob\n            ];\n        };\n        var once = function (element, eventName, fn) {\n            var listener = function () {\n                fn();\n                element.removeEventListener(eventName, listener, false);\n            };\n            var remove = function () {\n                return element.addEventListener(eventName, listener, false);\n            };\n            remove();\n            return { remove: remove };\n        };\n        var activate = function (containerSelector, options) {\n            return function (e) {\n                var target = e.target;\n                var doc = target.document || target.ownerDocument;\n                var container;\n                if (options.container) {\n                    container = options.container(target);\n                } else {\n                    container = closest(target, containerSelector);\n                }\n                if (!container) {\n                    return;\n                }\n                var doubleFocus = /focus/i.test(e.type) && container.classList.contains('k-ripple-target');\n                if (doubleFocus) {\n                    return;\n                }\n                container.classList.add('k-ripple-target');\n                var _a = createRipple(doc), ripple = _a[0], blob = _a[1];\n                var state = {\n                    animated: false,\n                    released: false,\n                    blob: blob,\n                    container: container,\n                    ripple: ripple\n                };\n                var eventType = {\n                    'focusin': 'focusout',\n                    'keydown': 'keyup',\n                    'mousedown': 'mouseup',\n                    'pointerdown': 'pointerup',\n                    'touchdown': 'touchup'\n                }[e.type];\n                once(e.currentTarget, eventType, function () {\n                    return release(state);\n                });\n                container.appendChild(ripple);\n                window.getComputedStyle(ripple).getPropertyValue('opacity');\n                var rect = container.getBoundingClientRect();\n                var left = 0;\n                var top = 0;\n                if (/mouse|pointer|touch/.test(e.type)) {\n                    left = e.clientX - rect.left;\n                    top = e.clientY - rect.top;\n                } else {\n                    left = rect.width / 2;\n                    top = rect.height / 2;\n                }\n                var xMax = left < rect.width / 2 ? rect.width : 0;\n                var yMax = top < rect.height / 2 ? rect.height : 0;\n                var dx = left - xMax;\n                var dy = top - yMax;\n                var size = 2 * Math.sqrt(dx * dx + dy * dy);\n                var duration = 500;\n                blob.style.cssText = '\\n    transform: translate(-50%, -50%) scale(1);\\n    width: ' + size + 'px;\\n    height: ' + size + 'px;\\n    left: ' + left + 'px;\\n    top: ' + top + 'px;\\n  ';\n                setTimeout(function () {\n                    return finishAnimation(state);\n                }, duration);\n            };\n        };\n        var finishAnimation = function (state) {\n            state.animated = true;\n            deactivate(state);\n        };\n        var release = function (state) {\n            state.released = true;\n            deactivate(state);\n        };\n        var deactivate = function (state) {\n            if (!state.released || !state.animated) {\n                return;\n            }\n            var blob = state.blob, ripple = state.ripple, container = state.container;\n            if (container) {\n                once(container, 'blur', function () {\n                    return container.classList.remove('k-ripple-target');\n                });\n            }\n            if (blob) {\n                once(blob, 'transitionend', function () {\n                    if (ripple && ripple.parentNode) {\n                        ripple.parentNode.removeChild(ripple);\n                    }\n                });\n                blob.style.transition = 'opacity 200ms linear';\n                blob.style.opacity = '0';\n            }\n        };\n        var register = function (root, elements) {\n            var flatten = function (arr) {\n                return [].concat.apply([], arr);\n            };\n            var handlers = flatten(elements.map(function (item) {\n                var defaultOptions = {\n                    events: [\n                        'mousedown',\n                        'touchdown'\n                    ],\n                    global: false\n                };\n                var selector = item.selector, _a = item.options, options = _a === void 0 ? defaultOptions : _a;\n                var activator = activate(selector, options);\n                var events = options.events || defaultOptions.events;\n                var container = options.global ? document.body : root;\n                events.forEach(function (evt) {\n                    return container.addEventListener(evt, activator, false);\n                });\n                return {\n                    events: events,\n                    activator: activator\n                };\n            }));\n            return function () {\n                if (!root) {\n                    return;\n                }\n                handlers.forEach(function (_a) {\n                    var events = _a.events, activator = _a.activator;\n                    return events.forEach(function (evt) {\n                        return root.removeEventListener(evt, activator, false);\n                    });\n                });\n                root = null;\n            };\n        };\n        kendo.deepExtend(kendo.util.ripple, { register: register });\n    }());\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.ripple', ['util/ripple'], f);\n}(function () {\n    var __meta__ = {\n        id: 'ripplecontainer',\n        name: 'RippleContainer',\n        category: 'web',\n        depends: ['core']\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, Widget = ui.Widget, extend = $.extend, ripple = kendo.util.ripple;\n        var RippleContainer = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element);\n                element = that.wrapper = that.element;\n                that.options = extend({}, that.options, options);\n                that.registerListeners();\n            },\n            options: {\n                name: 'RippleContainer',\n                elements: [\n                    { selector: '.k-button:not(li)' },\n                    {\n                        selector: '.k-list > .k-item',\n                        options: { global: true }\n                    },\n                    { selector: '.k-checkbox-label, .k-radio-label' },\n                    {\n                        selector: '.k-checkbox, .k-radio',\n                        options: {\n                            events: ['focusin'],\n                            container: function (el) {\n                                if (/\\b(k-checkbox|k-radio)\\b/.test(el.className)) {\n                                    return el.nextElementSibling;\n                                }\n                            }\n                        }\n                    }\n                ]\n            },\n            removeListeners: function () {\n            },\n            registerListeners: function () {\n                var that = this;\n                var root = that.element[0];\n                var elements = that.options.elements;\n                that.removeListeners();\n                var callback = ripple.register(root, elements);\n                that.removeListeners = callback;\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.removeListeners();\n            }\n        });\n        ui.plugin(RippleContainer);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}