{"version":3,"sources":["kendo.multiviewcalendar.js"],"names":["f","define","$","undefined","mousetoggle","e","disabled","this","hasClass","toggleClass","HOVER","MOUSEENTER","indexOf","type","FOCUS","addDaysToArray","array","numberOfDays","fromDate","disableDates","i","nextDay","Date","getTime","setDate","getDate","push","daysBetweenTwoDates","startDate","endDate","temp","fromDateUTC","endDateUTC","calendar","views","UTC","getFullYear","getMonth","Math","ceil","kendo","date","MS_PER_DAY","shiftDate","value","dimension","numberOfViews","current","DATE","setFullYear","abs","setMonth","last","window","support","isInRange","toDateObject","createDate","isEqualDate","getToday","keys","ui","Widget","Selectable","template","ns","CLICK","KEYDOWN","ID","MIN","MONTH","DOT","CENTURY","DECADE","CHANGE","NAVIGATE","VALUE","FOCUSED","SELECTED","MID","SPLITEND","SPLITSTART","START","END","DISABLED","TODAY","OTHERMONTH","OUTOFRANGE","CELLSELECTOR","CELLSELECTORVALID","BLUR","touch","MOUSELEAVE_NS","PREVARROW","NEXTARROW","ARIA_SELECTED","INPUTSELECTOR","ARIA_DISABLED","ARIA_LABEL","proxy","month","year","decade","century","RangeSelectable","extend","init","element","options","that","fn","call","userEvents","UserEvents","global","allowSelection","filter","tap","_tap","touchAction","events","name","inputSelectors","multiple","dragToSelect","relatedTarget","noop","destroy","off","_lastActive","_start","_end","_allowSelection","target","is","cancel","start","addClass","end","mid","elements","tables","find","each","lastCell","firstCell","clear","clearVariables","removeClass","selectFrom","items","startIdx","inArray","index","selectTo","endIdx","range","change","trigger","_toggling","MultiViewCalendar","id","culture","wrapper","getCulture","format","_extractFormat","calendars","standard","patterns","d","_templates","_header","_wrapper","weekNumber","on","_move","_blur","link","currentTarget","firstChild","href","preventDefault","_click","_mouseEnter","attr","_cellID","_calendarWidth","width","_range","_initViews","viewName","_selectable","_footer","footer","_selectDates","selectable","selectDates","length","_restoreSelection","selectRange","notify","min","max","dates","showViewHeader","depth","messages","weekColumnHeader","setOptions","normalize","_views","remove","_cell","_currentView","_current","header","_title","rangeSelectable","_today","focus","table","closest","_dateInViews","_cellByDate","first","_option","view","navigateToPast","_navigate","navigateToFuture","navigateUp","_index","navigate","navigateDown","_value","isNaN","viewsEnum","restrictValue","_updateHeader","lastDate","prevDisabled","nextDisabled","title","_firstViewValue","visibleRange","_visibleRange","html","compare","_navContainer","appendTo","cell","preventFocus","prevent","method","lastActive","cellIndex","key","keyCode","focusedCell","currentValue","isRtl","RIGHT","LEFT","UP","DOWN","SPACEBAR","HOME","eq","prev","_focusCell","next","ctrlKey","metaKey","ENTER","_toggleSelection","shiftKey","_nextNavigatable","_selectRange","PAGEUP","PAGEDOWN","_visualizeSelectedDatesInView","cells","selectedDates","toDateString","_selectElement","isDisabled","navigatableDate","event","_unselect","option","isBigger","parseDate","_toggle","toLowerCase","_rangeSelection","aria","parseOptions","_selection","unselect","_unselecting","_getFirstViewDate","currentView","ranges","_canRenderNextView","viewDate","fullYear","maxYear","maxMonth","viewOptions","visibleViews","_table","content","url","showHeader","isWeekColumnVisible","otherMonth","tablesWrapper","sender","_preventChange","selectElements","domEvent","isCell","_validateValue","_deselect","_addSelectedCellsToArray","item","currentDateIndex","map","Number","splice","firstDateInView","lastDateInView","_fillRange","daysDifference","buttons","prependTo","click","insertAfter","empty","useWithBlock","today","show","toString","hide","arrow","modifier","offset","originaValue","toggle","isTodayDisabled","_todayClick","adjustDST","_focus","contains","focusTable","cellId","removeAttr","clearSelection","validSelectedDates","datesUnique","position","time","grep","setHours","startInRange","endInRange","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.multiviewcalendar.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.multiviewcalendar', [\n        'kendo.core',\n        'kendo.selectable',\n        'kendo.calendar'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'multiviewcalendar',\n        name: 'MultiViewCalendar',\n        category: 'web',\n        description: 'Multi-view calendar.',\n        depends: [\n            'core',\n            'selectable',\n            'calendar'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, calendar = kendo.calendar, support = kendo.support, isInRange = calendar.isInRange, toDateObject = calendar.toDateObject, createDate = calendar.createDate, isEqualDate = calendar.isEqualDate, getToday = calendar.getToday, keys = kendo.keys, ui = kendo.ui, Widget = ui.Widget, Selectable = ui.Selectable, template = kendo.template, ns = '.kendoMultiViewCalendar', CLICK = 'click', KEYDOWN = 'keydown', ID = 'id', MIN = 'min', MONTH = 'month', DOT = '.', CENTURY = 'century', DECADE = 'decade', CHANGE = 'change', NAVIGATE = 'navigate', VALUE = 'value', FOCUSED = 'k-state-focused', SELECTED = 'k-state-selected', MID = 'k-range-mid', SPLITEND = 'k-range-split-end', SPLITSTART = 'k-range-split-start', START = 'k-range-start', END = 'k-range-end', HOVER = 'k-state-hover', DISABLED = 'k-state-disabled', TODAY = 'k-nav-today', OTHERMONTH = 'k-other-month', OUTOFRANGE = 'k-out-of-range', CELLSELECTOR = 'td:has(.k-link):not(.' + OUTOFRANGE + ')', CELLSELECTORVALID = 'td:has(.k-link):not(.' + DISABLED + '):not(.' + OUTOFRANGE + ')', BLUR = 'blur', FOCUS = 'focus', MOUSEENTER = support.touch ? 'touchstart' : 'mouseenter', MOUSELEAVE_NS = support.touch ? 'touchend' + ns + ' touchmove' + ns : 'mouseleave' + ns, PREVARROW = '_prevArrow', NEXTARROW = '_nextArrow', ARIA_SELECTED = 'aria-selected', INPUTSELECTOR = 'input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up', ARIA_DISABLED = 'aria-disabled', ARIA_LABEL = 'aria-label', proxy = $.proxy, DATE = Date, views = {\n                month: 0,\n                year: 1,\n                decade: 2,\n                century: 3\n            };\n        var RangeSelectable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that.userEvents = new kendo.UserEvents(that.element, {\n                    global: true,\n                    allowSelection: true,\n                    filter: that.options.filter,\n                    tap: proxy(that._tap, that),\n                    touchAction: 'none'\n                });\n            },\n            events: [CHANGE],\n            options: {\n                name: 'RangeSelectable',\n                filter: '>*',\n                inputSelectors: INPUTSELECTOR,\n                multiple: false,\n                dragToSelect: true,\n                relatedTarget: $.noop\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.element.off();\n                that.userEvents.destroy();\n                that._lastActive = that.element = that.userEvents = that._start = that._end = null;\n            },\n            _allowSelection: function (target) {\n                if ($(target).is(this.options.inputSelectors)) {\n                    this.userEvents.cancel();\n                    return false;\n                }\n                return true;\n            },\n            start: function (element) {\n                if (element === undefined) {\n                    return this._start;\n                }\n                element.addClass(START + ' ' + SELECTED);\n                this._start = element;\n            },\n            end: function (element) {\n                if (element === undefined) {\n                    return this._start;\n                }\n                element.addClass(END + ' ' + SELECTED);\n                this._end = element;\n            },\n            mid: function (elements) {\n                var tables = this.element.find('table.k-month');\n                elements.addClass(MID);\n                tables.each(function () {\n                    var that = $(this);\n                    var lastCell = that.find(CELLSELECTORVALID + ':last');\n                    var firstCell = that.find(CELLSELECTORVALID + ':first');\n                    if (lastCell.hasClass(MID)) {\n                        lastCell.addClass(SPLITEND);\n                    }\n                    if (firstCell.hasClass(MID)) {\n                        firstCell.addClass(SPLITSTART);\n                    }\n                });\n            },\n            clear: function (clearVariables) {\n                this.element.find(CELLSELECTOR).removeClass(END + ' ' + SELECTED + ' ' + START + ' ' + MID + ' ' + SPLITEND + ' ' + SPLITSTART);\n                if (clearVariables) {\n                    this._start = this._end = null;\n                }\n            },\n            selectFrom: function (start) {\n                var that = this;\n                var items;\n                var startIdx;\n                items = that.element.find(CELLSELECTOR);\n                startIdx = $.inArray($(start)[0], items);\n                that.clear();\n                that.start(start);\n                items = items.filter(function (index) {\n                    return index > startIdx;\n                });\n                that.mid(items);\n            },\n            selectTo: function (end) {\n                var that = this;\n                var items;\n                var endIdx;\n                items = that.element.find(CELLSELECTOR);\n                endIdx = $.inArray($(end)[0], items);\n                that.clear();\n                items = items.filter(function (index) {\n                    return index < endIdx;\n                });\n                that.mid(items);\n                that.end($(end));\n            },\n            range: function (start, end) {\n                var that = this;\n                var items;\n                var startIdx;\n                var endIdx;\n                var temp;\n                if (start === undefined) {\n                    return {\n                        start: that._start,\n                        end: that._end\n                    };\n                }\n                items = that.element.find(CELLSELECTOR);\n                startIdx = $.inArray($(start)[0], items);\n                endIdx = $.inArray($(end)[0], items);\n                if (startIdx > endIdx) {\n                    temp = end;\n                    end = start;\n                    start = temp;\n                    temp = startIdx;\n                    startIdx = endIdx;\n                    endIdx = temp;\n                }\n                that.clear();\n                start.addClass(START + ' ' + SELECTED);\n                that._start = start;\n                items = items.filter(function (index) {\n                    return index > startIdx && index < endIdx;\n                });\n                that.mid(items);\n                that.end($(end));\n            },\n            change: function () {\n                this.trigger(CHANGE);\n            },\n            _tap: function (e) {\n                var target = $(e.target), that = this, items, startIdx, endIdx;\n                that._lastActive = target;\n                if (!that._start) {\n                    that.start(target);\n                    that.trigger(CHANGE);\n                    return;\n                }\n                if (that._start && !that._end) {\n                    items = that.element.find(CELLSELECTOR);\n                    startIdx = $.inArray($(that._start)[0], items);\n                    endIdx = $.inArray($(target)[0], items);\n                    if (+toDateObject($(that._start).find('a')) > +toDateObject($(target).find('a'))) {\n                        that.clear();\n                        that.start(target);\n                        that.trigger(CHANGE);\n                        return;\n                    }\n                    items = items.filter(function (index) {\n                        return index > startIdx && index < endIdx;\n                    });\n                    that.mid(items);\n                    that.end($(target));\n                    that.trigger(CHANGE);\n                    return;\n                }\n                if (that._start && that._end) {\n                    if (target.hasClass(MID)) {\n                        if (!that._toggling) {\n                            that.range(target, that._end);\n                        } else {\n                            that.range(that._start, target);\n                        }\n                        that._toggling = !that._toggling;\n                        that.trigger(CHANGE);\n                        return;\n                    }\n                    that._toggling = false;\n                    that._end = null;\n                    that.clear();\n                    that.start(target);\n                    that.trigger(CHANGE);\n                }\n            }\n        });\n        var MultiViewCalendar = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                var id;\n                var culture;\n                Widget.fn.init.call(that, element, options);\n                element = that.wrapper = that.element;\n                options = that.options;\n                that.options.disableDates = calendar.disabled(that.options.disableDates);\n                culture = kendo.getCulture(options.culture);\n                options.format = kendo._extractFormat(options.format || culture.calendars.standard.patterns.d);\n                that._templates();\n                that._header();\n                that._wrapper();\n                id = element.addClass('k-widget k-calendar k-calendar-range' + (options.weekNumber ? ' k-week-number' : '')).on(KEYDOWN + ns, 'table.k-content', proxy(that._move, that)).on(BLUR + ns, 'table', proxy(that._blur, that)).on(CLICK + ns, CELLSELECTORVALID, function (e) {\n                    var link = e.currentTarget.firstChild;\n                    if (link.href.indexOf('#') != -1) {\n                        e.preventDefault();\n                    }\n                    that._click($(link));\n                }).on(MOUSEENTER + ns, CELLSELECTORVALID, proxy(that._mouseEnter, that)).on(MOUSELEAVE_NS, CELLSELECTORVALID, function () {\n                    $(this).removeClass(HOVER);\n                }).attr(ID);\n                if (id) {\n                    that._cellID = id + '_cell_selected';\n                }\n                that._calendarWidth = that.element.width();\n                that._range = options.range;\n                that._initViews({\n                    viewName: options.start,\n                    value: options.value\n                });\n                that._selectable();\n                that._footer(that.footer);\n                that._selectDates = [];\n                that.value(options.value);\n                if (options.selectable == 'multiple') {\n                    that._selectDates = options.selectDates.length ? options.selectDates : that._selectDates;\n                    that._restoreSelection();\n                }\n                if (options.selectable == 'range') {\n                    that.selectRange(that._range);\n                }\n                kendo.notify(that);\n            },\n            options: {\n                name: 'MultiViewCalendar',\n                value: null,\n                min: new DATE(1900, 0, 1),\n                max: new DATE(2099, 11, 31),\n                dates: [],\n                disableDates: null,\n                culture: '',\n                footer: '',\n                format: '',\n                month: {},\n                range: {\n                    start: null,\n                    end: null\n                },\n                weekNumber: false,\n                views: 2,\n                showViewHeader: false,\n                selectable: 'single',\n                selectDates: [],\n                start: MONTH,\n                depth: MONTH,\n                messages: { weekColumnHeader: '' }\n            },\n            events: [\n                CHANGE,\n                NAVIGATE\n            ],\n            setOptions: function (options) {\n                var that = this;\n                calendar.normalize(options);\n                options.disableDates = calendar.disabled(options.disableDates);\n                Widget.fn.setOptions.call(that, options);\n                that._selectable();\n                that._templates();\n                that._footer(that.footer);\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n                that._initViews({\n                    viewName: options.start,\n                    value: options.value\n                });\n                that._range = options.range;\n                that._restoreSelection();\n            },\n            destroy: function () {\n                var that = this;\n                that._cell = null;\n                that._currentView = null;\n                that._current = null;\n                if (that._views) {\n                    for (var i = 0; i < that._views.length; i++) {\n                        that._views[i].off(ns).remove();\n                    }\n                }\n                that.element.off(ns);\n                if (that.header) {\n                    that.header.off(ns);\n                    that._title = null;\n                    that.header = null;\n                }\n                if (that.selectable) {\n                    that.selectable.destroy();\n                    that.selectable = null;\n                }\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.destroy();\n                    that.rangeSelectable = null;\n                }\n                if (that._today) {\n                    kendo.destroy(that._today.off(ns));\n                }\n                that._views = null;\n                Widget.fn.destroy.call(that);\n            },\n            current: function () {\n                return this._current;\n            },\n            focus: function () {\n                var table;\n                if (this._cell) {\n                    this._cell.closest('table').focus();\n                } else if (this._current && this._dateInViews(this._current)) {\n                    this._cell = this._cellByDate(this._current);\n                    this._cell.closest('table').focus();\n                } else {\n                    table = this.element.find('table').first().focus();\n                    this._cell = table.find(CELLSELECTORVALID + ':first');\n                    this._current = toDateObject(this._cell.find('a'));\n                }\n                this._cell.addClass(FOCUSED);\n            },\n            min: function (value) {\n                return this._option(MIN, value);\n            },\n            max: function (value) {\n                return this._option('max', value);\n            },\n            view: function () {\n                return this._currentView;\n            },\n            navigateToPast: function () {\n                this._navigate(PREVARROW, -1);\n            },\n            navigateToFuture: function () {\n                this._navigate(NEXTARROW, 1);\n            },\n            navigateUp: function () {\n                var that = this, index = that._index;\n                if (that._title.hasClass(DISABLED)) {\n                    return;\n                }\n                that.navigate(that._current, ++index);\n            },\n            navigateDown: function (value) {\n                var that = this, index = that._index, depth = that.options.depth;\n                if (!value) {\n                    return;\n                }\n                if (index === views[depth]) {\n                    if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                        that.value(value);\n                        that.trigger(CHANGE);\n                    }\n                    return;\n                }\n                that.navigate(value, --index);\n            },\n            navigate: function (value, view) {\n                view = isNaN(view) ? calendar.views[calendar.viewsEnum[view]] : calendar.views[view];\n                var that = this;\n                var options = that.options;\n                var min = options.min;\n                var max = options.max;\n                if (!value) {\n                    that._current = value = new DATE(+calendar.restrictValue(value, min, max));\n                } else {\n                    that._current = value;\n                }\n                if (view === undefined) {\n                    view = that._currentView;\n                }\n                that._currentView = view;\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n                that._initViews({\n                    viewName: view.name,\n                    value: value\n                });\n                that._restoreSelection();\n            },\n            _updateHeader: function () {\n                var that = this;\n                var view = that._currentView;\n                var title = that._title;\n                var value = that._firstViewValue;\n                var options = that.options;\n                var visibleRange = that._visibleRange();\n                var culture = options.culture;\n                var min = options.min;\n                var max = options.max;\n                var lastDate;\n                var disabled;\n                var prevDisabled;\n                var nextDisabled;\n                if (view.name === DECADE || view.name === CENTURY) {\n                    lastDate = shiftDate(value, view.name, options.views - 1);\n                    if (!isInRange(lastDate, min, max)) {\n                        lastDate = max;\n                    }\n                    title.html(view.first(value).getFullYear() + ' - ' + view.last(lastDate).getFullYear());\n                } else {\n                    title.html(view.title(value, min, max, culture) + ' - ' + view.title(shiftDate(value, view.name, options.views - 1), min, max, culture));\n                }\n                disabled = view.name === CENTURY;\n                title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n                prevDisabled = view.compare(visibleRange.start, that.options.min) < 1;\n                nextDisabled = view.compare(visibleRange.end, that.options.max) > -1;\n                if (prevDisabled && nextDisabled) {\n                    if (that._navContainer) {\n                        that._navContainer.remove();\n                        that._navContainer = null;\n                    }\n                } else {\n                    if (!that._navContainer) {\n                        that._navContainer = $('<span class=\"k-calendar-nav\">' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-icon k-prev-view\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-icon k-i-arrow-60-left\"></span></a>' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-icon k-next-view\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-icon k-i-arrow-60-right\"></span></a>' + '</span>').appendTo(that.header);\n                        that[PREVARROW] = that._navContainer.find('.k-prev-view');\n                        that[NEXTARROW] = that._navContainer.find('.k-next-view');\n                    }\n                    that[PREVARROW].toggleClass(DISABLED, prevDisabled).attr(ARIA_DISABLED, prevDisabled);\n                    if (that[PREVARROW].hasClass(DISABLED)) {\n                        that[PREVARROW].removeClass(HOVER);\n                    }\n                    that[NEXTARROW].toggleClass(DISABLED, nextDisabled).attr(ARIA_DISABLED, nextDisabled);\n                    if (that[NEXTARROW].hasClass(DISABLED)) {\n                        that[NEXTARROW].removeClass(HOVER);\n                    }\n                }\n            },\n            _mouseEnter: function (e) {\n                var that = this;\n                var cell = $(e.currentTarget);\n                var range;\n                var items;\n                var startIdx;\n                var endIdx;\n                cell.addClass(HOVER);\n                if (that.rangeSelectable && that._currentView.name === 'month') {\n                    range = that.selectRange();\n                    if (range.start && !range.end) {\n                        if (that._dateInViews(that.selectRange().start)) {\n                            items = that.element.find(that.rangeSelectable.options.filter);\n                            startIdx = $.inArray($(that.rangeSelectable._start)[0], items);\n                            endIdx = $.inArray($(cell)[0], items);\n                            if (startIdx > endIdx) {\n                                return;\n                            }\n                            that.rangeSelectable.range(that.rangeSelectable._start, cell);\n                        } else if (+toDateObject(that.element.find(CELLSELECTOR + ':first').find('a')) > +range.start) {\n                            that.rangeSelectable.selectTo(cell);\n                        }\n                        that.rangeSelectable._end = null;\n                    }\n                }\n            },\n            _move: function (e, preventFocus) {\n                var that = this;\n                var options = that.options;\n                var key = e.keyCode;\n                var index = that._index;\n                var min = options.min;\n                var max = options.max;\n                var focusedCell = that.element.find(DOT + FOCUSED);\n                var table = focusedCell.closest('table');\n                var currentValue = new DATE(+(that._current || toDateObject(focusedCell.find('a'))));\n                var isRtl = kendo.support.isRtl(that.wrapper);\n                var navigate = false;\n                var value, prevent, method, cell, lastActive, cellIndex;\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    value = 1;\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    value = -1;\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    value = index === 0 ? -7 : -4;\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    value = index === 0 ? 7 : 4;\n                    prevent = true;\n                } else if (key == keys.SPACEBAR) {\n                    value = 0;\n                    prevent = true;\n                } else if (key == keys.HOME) {\n                    prevent = true;\n                    cell = table.find(CELLSELECTORVALID).eq(0);\n                    if (cell.hasClass(FOCUSED)) {\n                        table = table.prev();\n                        if (table.length) {\n                            that._focusCell(table.find(CELLSELECTORVALID).eq(0));\n                        } else {\n                            navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                            that._navigate(PREVARROW, -1, preventFocus);\n                            that._focusCell(that.element.find('table:first ' + CELLSELECTORVALID + ':first'));\n                        }\n                    } else {\n                        that._focusCell(cell);\n                    }\n                } else if (key == keys.END) {\n                    prevent = true;\n                    cell = table.find(CELLSELECTORVALID).last();\n                    if (cell.hasClass(FOCUSED)) {\n                        table = table.next();\n                        if (table.length) {\n                            that._focusCell(table.find(CELLSELECTORVALID).last());\n                        } else {\n                            navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                            that._navigate(NEXTARROW, 1, preventFocus);\n                            that._focusCell(that.element.find('table:last ' + CELLSELECTORVALID + ':last'));\n                        }\n                    } else {\n                        that._focusCell(cell);\n                    }\n                }\n                if (e.ctrlKey || e.metaKey) {\n                    if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                        navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                        that._navigate(NEXTARROW, 1, preventFocus);\n                        prevent = true;\n                    } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                        navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                        that._navigate(PREVARROW, -1, preventFocus);\n                        prevent = true;\n                    } else if (key == keys.UP) {\n                        navigate = !that._title.hasClass(DISABLED);\n                        that.navigateUp();\n                        that._focusCell(that._cellByDate(that._current), !preventFocus);\n                        prevent = true;\n                    } else if (key == keys.DOWN) {\n                        if (that._currentView.name === 'month') {\n                            that.value(currentValue);\n                        } else {\n                            that.navigateDown(currentValue);\n                            that._focusCell(that._cellByDate(that._current), !preventFocus);\n                            navigate = true;\n                        }\n                        prevent = true;\n                    } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                        if (options.selectable === 'multiple') {\n                            that._toggleSelection(e);\n                        }\n                    }\n                } else if (e.shiftKey && options.selectable !== 'single') {\n                    if (value !== undefined || method) {\n                        if (!method) {\n                            that._currentView.setDate(currentValue, value);\n                        }\n                        if (that._currentView.name !== 'month') {\n                            return;\n                        }\n                        if (options.disableDates(currentValue)) {\n                            currentValue = that._nextNavigatable(currentValue, value);\n                        }\n                        min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                        if (isInRange(currentValue, min, max)) {\n                            if (!that._dateInViews(currentValue)) {\n                                if (value > 0) {\n                                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, 1, preventFocus);\n                                } else {\n                                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                    that._navigate(PREVARROW, -1, preventFocus);\n                                }\n                            }\n                            cell = that._cellByDate(currentValue);\n                            that._current = currentValue;\n                            if (that.selectable) {\n                                that._selectRange(toDateObject((that.selectable._lastActive || focusedCell).find('a')), currentValue);\n                                if (!that.selectable._lastActive) {\n                                    that.selectable._lastActive = focusedCell;\n                                }\n                                that.trigger(CHANGE);\n                                that._focusCell(cell);\n                            }\n                            if (that.rangeSelectable) {\n                                lastActive = toDateObject((that.rangeSelectable._lastActive || focusedCell).find('a'));\n                                if (!that._dateInViews(lastActive)) {\n                                    if (+lastActive > +currentValue) {\n                                        that.rangeSelectable._end = that.rangeSelectable._lastActive;\n                                        that.rangeSelectable.selectFrom(cell);\n                                    } else {\n                                        that.rangeSelectable.selectTo(cell);\n                                    }\n                                } else {\n                                    if (that.rangeSelectable._end && that.rangeSelectable._end.is(DOT + FOCUSED)) {\n                                        that.rangeSelectable._lastActive = that.rangeSelectable._start;\n                                    } else {\n                                        that.rangeSelectable._lastActive = that._cellByDate(lastActive);\n                                    }\n                                    that.rangeSelectable.range(that.rangeSelectable._lastActive, cell);\n                                }\n                                that.rangeSelectable.change();\n                                that._focusCell(cell);\n                            }\n                        }\n                    }\n                } else {\n                    if (key == keys.ENTER || key == keys.SPACEBAR) {\n                        if (that._currentView.name === 'month') {\n                            if (that.selectable) {\n                                that.selectable._lastActive = that._cellByDate(currentValue);\n                            }\n                            that.value(currentValue);\n                            if (that.rangeSelectable) {\n                                that.rangeSelectable.change();\n                            }\n                        } else {\n                            that._click($(that._cell[0].firstChild), preventFocus);\n                        }\n                        prevent = true;\n                    } else if (key == keys.PAGEUP || key == keys.PAGEDOWN) {\n                        prevent = true;\n                        cellIndex = table.find(CELLSELECTORVALID).index(focusedCell);\n                        table = key == keys.PAGEUP ? table.prev() : table.next();\n                        if (!table.length) {\n                            if (key == keys.PAGEUP) {\n                                navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                that.navigateToPast();\n                                table = that.element.find('table:first');\n                            } else {\n                                navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                that.navigateToFuture();\n                                table = that.element.find('table:last');\n                            }\n                        }\n                        cell = table.find(CELLSELECTORVALID).eq(cellIndex);\n                        if (cell.length) {\n                            that._focusCell(cell);\n                        } else {\n                            that._focusCell(table.find(CELLSELECTORVALID).last());\n                        }\n                    }\n                    if (value || method) {\n                        if (!method) {\n                            that._currentView.setDate(currentValue, value);\n                        }\n                        min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                        if (isInRange(currentValue, min, max)) {\n                            if (that.selectable && options.disableDates(currentValue)) {\n                                currentValue = that._nextNavigatable(currentValue, value);\n                            }\n                            if (!that._dateInViews(currentValue)) {\n                                if (value > 0) {\n                                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, 1, preventFocus);\n                                } else {\n                                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, -1, preventFocus);\n                                }\n                            }\n                            cell = that._cellByDate(currentValue);\n                            that._current = currentValue;\n                            that._focusCell(cell, !preventFocus);\n                        }\n                    }\n                }\n                if (navigate) {\n                    that.trigger(NAVIGATE);\n                }\n                if (prevent) {\n                    e.preventDefault();\n                }\n                return that._current;\n            },\n            _visualizeSelectedDatesInView: function () {\n                var that = this;\n                var selectedDates = {};\n                var cells;\n                $.each(that._selectDates, function (index, value) {\n                    selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n                });\n                that.selectable.clear();\n                cells = that.element.find('table').find(CELLSELECTOR).filter(function (index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n                if (cells.length > 0) {\n                    that.selectable._selectElement(cells, true);\n                }\n            },\n            _nextNavigatable: function (currentValue, value) {\n                var that = this;\n                var disabled = true;\n                var view = that._currentView;\n                var min = that.options.min;\n                var max = that.options.max;\n                var isDisabled = that.options.disableDates;\n                var navigatableDate = new Date(currentValue.getTime());\n                view.setDate(navigatableDate, -value);\n                while (disabled) {\n                    view.setDate(currentValue, value);\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = navigatableDate;\n                        break;\n                    }\n                    disabled = isDisabled(currentValue);\n                }\n                return currentValue;\n            },\n            _toggleSelection: function (event) {\n                var that = this;\n                that.selectable._lastActive = $(that._cell[0]);\n                if ($(that._cell[0]).hasClass(SELECTED)) {\n                    that.selectable._unselect($(that._cell[0]));\n                    that.selectable.trigger(CHANGE, { event: event });\n                } else {\n                    that.selectable.value($(that._cell[0]), { event: event });\n                }\n            },\n            _option: function (option, value) {\n                var that = this;\n                var options = that.options;\n                var currentValue = that._value || that._current;\n                var isBigger;\n                if (value === undefined) {\n                    return options[option];\n                }\n                value = kendo.parseDate(value, options.format, options.culture);\n                if (!value) {\n                    return;\n                }\n                options[option] = new DATE(+value);\n                if (option === MIN) {\n                    isBigger = value > currentValue;\n                } else {\n                    isBigger = currentValue > value;\n                }\n                if (isBigger) {\n                    that._value = null;\n                }\n                that.navigate(that._value);\n                that._toggle();\n            },\n            _cellByDate: function (value) {\n                if (value instanceof Date) {\n                    value = this._currentView.toDateString(value);\n                }\n                return this.element.find('table').find('td:not(.' + OTHERMONTH + ')').filter(function () {\n                    return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n                });\n            },\n            _selectable: function () {\n                var that = this;\n                var selectable = that.options.selectable;\n                if (that.selectable) {\n                    that.selectable.destroy();\n                    that.selectable = null;\n                }\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.destroy();\n                    that.rangeSelectable = null;\n                }\n                if (selectable.toLowerCase() === 'range') {\n                    that.rangeSelectable = new RangeSelectable(that.wrapper, {\n                        filter: 'table.k-month ' + CELLSELECTORVALID,\n                        change: proxy(that._rangeSelection, that)\n                    });\n                } else {\n                    that.selectable = new Selectable(that.wrapper, {\n                        aria: true,\n                        dragToSelect: false,\n                        inputSelectors: 'input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up',\n                        multiple: Selectable.parseOptions(selectable).multiple,\n                        filter: 'table.k-content ' + CELLSELECTORVALID,\n                        change: proxy(that._selection, that),\n                        unselect: proxy(that._unselecting, that)\n                    });\n                }\n            },\n            _getFirstViewDate: function (currentView) {\n                var that = this;\n                var options = that.options;\n                var ranges = [];\n                var start;\n                var end;\n                var current = new Date(+that._current);\n                var i;\n                for (i = 0; i < options.views; i++) {\n                    start = currentView.first(current);\n                    end = currentView.last(current);\n                    if (+end > +options.max) {\n                        if (+start <= +options.max) {\n                            ranges.push({\n                                start: start,\n                                end: new Date(+options.max)\n                            });\n                        }\n                        break;\n                    }\n                    ranges.push({\n                        start: start,\n                        end: end\n                    });\n                    current = new Date(+shiftDate(end, currentView.name, 1));\n                }\n                current = new Date(+that._current);\n                for (i = 0; i < options.views; i++) {\n                    start = currentView.first(current);\n                    end = currentView.last(current);\n                    if (+start < +options.min) {\n                        if (+end >= +options.min) {\n                            ranges.push({\n                                start: new Date(+options.min),\n                                end: end\n                            });\n                        }\n                        break;\n                    }\n                    ranges.push({\n                        start: start,\n                        end: end\n                    });\n                    current = new Date(+shiftDate(start, currentView.name, -1));\n                }\n                start = ranges[0].start;\n                for (i = 0; i < options.views + 1; i++) {\n                    if (!ranges[i]) {\n                        break;\n                    }\n                    if (+start > +ranges[i].start) {\n                        start = ranges[i].start;\n                    }\n                }\n                return new Date(+start);\n            },\n            _canRenderNextView: function (viewDate) {\n                var fullYear = viewDate.getFullYear();\n                var month = viewDate.getMonth();\n                var date = viewDate.getDate();\n                var max = this.options.max;\n                var maxYear = max.getFullYear();\n                var maxMonth = max.getMonth();\n                if (fullYear < maxYear) {\n                    return true;\n                }\n                if (fullYear === maxYear && month < maxMonth) {\n                    return true;\n                }\n                if (fullYear === maxYear && month === maxMonth && date < max.getDate()) {\n                    return true;\n                }\n                if (fullYear === maxYear && month === maxMonth && date === max.getDate()) {\n                    return true;\n                }\n                return false;\n            },\n            _initViews: function (viewOptions) {\n                var that = this;\n                var options = that.options;\n                var index = calendar.viewsEnum[viewOptions.viewName];\n                var currentView = calendar.views[index];\n                var visibleViews;\n                var viewDate;\n                that._current = new DATE(+calendar.restrictValue(viewOptions.value, options.min, options.max));\n                that._views = [];\n                that._index = index;\n                viewDate = that._getFirstViewDate(currentView);\n                viewDate.setDate(1);\n                that._firstViewValue = new Date(+viewDate);\n                for (var i = 0; i < options.views; i++) {\n                    viewDate = i ? shiftDate(viewDate, currentView.name, 1) : viewDate;\n                    viewDate.setDate(1);\n                    if (!that._canRenderNextView(viewDate)) {\n                        break;\n                    }\n                    visibleViews = i + 1;\n                    that._table = $(currentView.content($.extend({\n                        min: options.min,\n                        max: options.max,\n                        date: viewDate,\n                        url: options.url,\n                        dates: options.dates,\n                        format: options.format,\n                        culture: options.culture,\n                        disableDates: options.disableDates,\n                        showHeader: options.showViewHeader,\n                        isWeekColumnVisible: options.weekNumber,\n                        otherMonth: options.otherMonth,\n                        messages: options.messages\n                    }, that[currentView.name])));\n                    that._table.appendTo(that.tablesWrapper).addClass('k-' + currentView.name);\n                    that._views.push(that._table);\n                }\n                that._currentView = currentView;\n                that.tablesWrapper.attr('class', 'k-calendar-view k-calendar-' + currentView.name + 'view');\n                that._updateHeader();\n            },\n            _rangeSelection: function (e) {\n                var that = this;\n                var range = e.sender.range();\n                var start;\n                var end;\n                if (range.start) {\n                    start = toDateObject(range.start.find('a'));\n                }\n                if (range.end) {\n                    end = toDateObject(range.end.find('a'));\n                }\n                that._range = {\n                    start: start,\n                    end: end\n                };\n                if (!that._preventChange) {\n                    that.trigger(CHANGE);\n                }\n            },\n            _selection: function (e) {\n                var that = this;\n                var selectElements = e.sender.value();\n                var domEvent = e.event;\n                var currentTarget = $(domEvent && domEvent.currentTarget);\n                var isCell = currentTarget.is('td');\n                var currentValue;\n                if (that.options.selectable === 'single') {\n                    that._validateValue(selectElements[0] ? toDateObject(selectElements.first().find('a')) : e.sender._lastActive ? toDateObject(e.sender._lastActive.find('a')) : that.value());\n                }\n                if (that.options.selectable == 'multiple') {\n                    if (isCell) {\n                        currentValue = toDateObject(currentTarget.find('a'));\n                    }\n                    if (domEvent && domEvent.ctrlKey) {\n                        if (isCell) {\n                            if (currentTarget.hasClass(SELECTED)) {\n                                that._selectDates.push(currentValue);\n                            } else {\n                                that._deselect(currentValue);\n                            }\n                        } else {\n                            that.element.find('table ' + CELLSELECTORVALID).each(function (index, element) {\n                                var value = toDateObject($(element).find('a'));\n                                that._deselect(value);\n                            });\n                            that._addSelectedCellsToArray();\n                        }\n                    } else if (domEvent && domEvent.shiftKey) {\n                        that._selectRange(toDateObject(e.sender._lastActive ? e.sender._lastActive.find('a') : selectElements.first().find('a')), currentValue);\n                    } else if (isCell) {\n                        that._selectDates = [];\n                        that._selectDates.push(currentValue);\n                    } else {\n                        that._selectDates = [];\n                        that._addSelectedCellsToArray();\n                    }\n                }\n                if (!that._preventChange) {\n                    that.trigger(CHANGE);\n                }\n            },\n            _addSelectedCellsToArray: function () {\n                var that = this;\n                that.selectable.value().each(function (index, item) {\n                    var date = toDateObject($(item.firstChild));\n                    if (!that.options.disableDates(date)) {\n                        that._selectDates.push(date);\n                    }\n                });\n            },\n            _deselect: function (date) {\n                var that = this;\n                var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n                if (currentDateIndex != -1) {\n                    that._selectDates.splice(currentDateIndex, 1);\n                }\n            },\n            _unselecting: function (e) {\n                var that = this;\n                var element = e.element;\n                if (that.options.selectable === 'single' && element.hasClass(FOCUSED)) {\n                    e.preventDefault();\n                }\n            },\n            _visibleRange: function () {\n                var tables = this.element.find('table');\n                var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR + ':first').find('a'));\n                var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR + ':last').find('a'));\n                return {\n                    start: firstDateInView,\n                    end: lastDateInView\n                };\n            },\n            _dateInViews: function (date) {\n                var that = this;\n                var tables = that.element.find('table');\n                var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR + ':first').find('a'));\n                var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR + ':last').find('a'));\n                return +date <= +lastDateInView && +date >= +firstDateInView;\n            },\n            _fillRange: function (start, end) {\n                var that = this;\n                var daysDifference;\n                that._selectDates = [];\n                daysDifference = daysBetweenTwoDates(start, end);\n                addDaysToArray(that._selectDates, daysDifference, start, that.options.disableDates);\n            },\n            _selectRange: function (start, end) {\n                var that = this;\n                var current;\n                if (+end < +start) {\n                    current = end;\n                    end = start;\n                    start = current;\n                }\n                that._fillRange(start, end);\n                that._visualizeSelectedDatesInView();\n            },\n            _header: function () {\n                var that = this;\n                var element = that.element;\n                var buttons;\n                var header = element.find('.k-calendar-header');\n                if (!header.length) {\n                    header = $('<div class=\"k-calendar-header\">' + '<a href=\"#\" role=\"button\" class=\"k-button k-title\" aria-live=\"assertive\" aria-atomic=\"true\"></a>' + '<span class=\"k-calendar-nav\">' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-icon k-prev-view\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-icon k-i-arrow-60-left\"></span></a>' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-icon k-next-view\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-icon k-i-arrow-60-right\"></span></a>' + '</span>' + '</div>').prependTo(element);\n                }\n                that.header = header;\n                header.on(MOUSEENTER + ns + ' ' + MOUSELEAVE_NS + ' ' + FOCUS + ns + ' ' + BLUR + ns, '.k-button', mousetoggle).click(false).on(CLICK + ns, '.k-button.k-title', function () {\n                    that.navigateUp();\n                    that._focusCell(that._cellByDate(that._current), true);\n                    that.trigger(NAVIGATE);\n                }).on(CLICK + ns, '.k-button.k-prev-view', function (e) {\n                    e.preventDefault();\n                    that.navigateToPast();\n                    that.trigger(NAVIGATE);\n                }).on(CLICK + ns, '.k-button.k-next-view', function (e) {\n                    e.preventDefault();\n                    that.navigateToFuture();\n                    that.trigger(NAVIGATE);\n                });\n                buttons = header.find('.k-button');\n                that._title = buttons.filter('.k-title');\n                that._navContainer = header.find('.k-calendar-nav');\n                that[PREVARROW] = buttons.filter('.k-prev-view');\n                that[NEXTARROW] = buttons.filter('.k-next-view');\n            },\n            _wrapper: function () {\n                this.tablesWrapper = $('<div class=\"k-calendar-view\" />').insertAfter(this.element[0].firstChild);\n            },\n            _templates: function () {\n                var that = this;\n                var options = that.options;\n                var month = options.month;\n                var content = month.content;\n                var weekNumber = month.weekNumber;\n                var empty = month.empty;\n                that.month = {\n                    content: template('<td#=data.cssClass# role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link#=data.linkClass#\" href=\"#=data.url#\" ' + kendo.attr(VALUE) + '=\"#=data.dateString#\" title=\"#=data.title#\">' + (content || '#=data.value#') + '</a></td>', { useWithBlock: !!content }),\n                    empty: template('<td role=\"gridcell\"' + (empty ? '>' : ' class=\"k-out-of-range\">') + (empty || '<a class=\\'k-link\\'></a>') + '</td>', { useWithBlock: !!empty }),\n                    weekNumber: template('<td class=\"k-alt\">' + (weekNumber || '#= data.weekNumber #') + '</td>', { useWithBlock: !!weekNumber })\n                };\n            },\n            _footer: function () {\n                var that = this;\n                var options = that.options;\n                var template = options.footer !== false ? kendo.template(that.options.footer || '#= kendo.toString(data,\"D\",\"' + options.culture + '\") #', { useWithBlock: false }) : null;\n                var today = getToday();\n                var element = that.element;\n                var footer = element.find('.k-footer');\n                if (!template) {\n                    that._toggle(false);\n                    footer.hide();\n                    return;\n                }\n                if (!footer[0]) {\n                    footer = $('<div class=\"k-footer\"><a href=\"#\" class=\"k-link k-nav-today\"></a></div>').appendTo(element);\n                }\n                that._today = footer.show().find('.k-link').html(template(today)).attr('title', kendo.toString(today, 'D', that.options.culture));\n                that._toggle();\n            },\n            _navigate: function (arrow, modifier, preventFocus) {\n                var that = this;\n                var index = that._index + 1;\n                var currentValue = new DATE(+that._current);\n                var originaValue = new DATE(+that._current);\n                var offset;\n                arrow = that[arrow];\n                offset = that._cellByDate(currentValue).closest('table').index();\n                if (modifier > 0) {\n                    offset = 1 - offset;\n                } else {\n                    offset = offset + 1;\n                }\n                if (!arrow || !arrow.hasClass(DISABLED)) {\n                    if (index > 3) {\n                        currentValue.setFullYear(currentValue.getFullYear() + 100 * (modifier * offset));\n                    } else {\n                        calendar.views[index].setDate(currentValue, modifier * offset);\n                    }\n                    that.navigate(currentValue);\n                    if (that._dateInViews(originaValue)) {\n                        that._focusCell(that._cellByDate(originaValue), !preventFocus);\n                        that._current = originaValue;\n                    } else {\n                        if (index > 3) {\n                            originaValue.setFullYear(originaValue.getFullYear() + 100 * modifier);\n                        } else {\n                            calendar.views[index].setDate(originaValue, modifier);\n                        }\n                        that._focusCell(that._cellByDate(originaValue), !preventFocus);\n                        that._current = originaValue;\n                    }\n                }\n            },\n            _toggle: function (toggle) {\n                var that = this;\n                var options = that.options;\n                var isTodayDisabled = options.selectable !== 'range' && that.options.disableDates(getToday());\n                var link = that._today;\n                if (toggle === undefined) {\n                    toggle = isInRange(getToday(), options.min, options.max);\n                }\n                if (link) {\n                    link.off(CLICK + ns);\n                    if (toggle && !isTodayDisabled) {\n                        link.addClass(TODAY).removeClass(DISABLED).on(CLICK + ns, proxy(that._todayClick, that));\n                    } else {\n                        link.removeClass(TODAY).addClass(DISABLED).on(CLICK + ns, function prevent(e) {\n                            e.preventDefault();\n                        });\n                    }\n                }\n            },\n            _click: function (link, preventFocus) {\n                var that = this;\n                var options = that.options;\n                var currentValue = new Date(+that._current);\n                var value = toDateObject(link);\n                kendo.date.adjustDST(value, 0);\n                that._currentView.setDate(currentValue, value);\n                that._current = value;\n                if (that._currentView.name !== options.depth) {\n                    that.navigateDown(calendar.restrictValue(currentValue, options.min, options.max));\n                    that._focusCell(that._cellByDate(that._current), !preventFocus);\n                    that.trigger(NAVIGATE);\n                } else {\n                    that._focusCell(link.closest('td'), !preventFocus);\n                }\n            },\n            _blur: function () {\n                var that = this;\n                if (that._cell) {\n                    that._cell.removeClass(FOCUSED);\n                }\n            },\n            _focus: function (e) {\n                var that = this;\n                var table = $(e.currentTarget);\n                var cell = that._cell;\n                if (!cell || !$.contains(table[0], cell[0])) {\n                    cell = table.find(CELLSELECTORVALID + ':first');\n                }\n                that._focusCell(cell);\n            },\n            _focusCell: function (cell, focusTable) {\n                var that = this;\n                var cellId = that._cellID;\n                var table = cell.closest('table');\n                if (that._cell) {\n                    that._cell.removeAttr(ARIA_SELECTED).removeAttr(ARIA_LABEL).removeClass(FOCUSED).removeAttr(ID);\n                    that._cell.closest('table').removeAttr('aria-activedescendant');\n                }\n                that._cell = cell;\n                if (focusTable) {\n                    table.focus();\n                }\n                if (cellId) {\n                    cell.attr(ID, cellId);\n                    table.attr('aria-activedescendant', cellId);\n                }\n                cell.attr(ARIA_SELECTED, true).addClass(FOCUSED);\n                if (cell.length && that._currentView.name == 'month') {\n                    that._current = toDateObject(cell.find('a'));\n                }\n            },\n            _todayClick: function (e) {\n                var that = this;\n                var disabled = that.options.disableDates;\n                var today = getToday();\n                var navigate = false;\n                e.preventDefault();\n                if (disabled(today)) {\n                    return;\n                }\n                that._value = today;\n                if (that.options.selectable === 'multiple') {\n                    that._selectDates = [today];\n                }\n                if (that.options.selectable === 'range') {\n                    that.rangeSelectable.clear(true);\n                    that._range = {\n                        start: today,\n                        end: null\n                    };\n                }\n                if (that._currentView.name != 'month' || !that._dateInViews(today)) {\n                    navigate = true;\n                }\n                that.navigate(today, that.options.depth);\n                if (that.options.selectable === 'single') {\n                    that.selectable._lastActive = null;\n                }\n                if (navigate) {\n                    that.trigger(NAVIGATE);\n                }\n                that.trigger(CHANGE);\n            },\n            _validateValue: function (value) {\n                var that = this;\n                var options = that.options;\n                var min = options.min;\n                var max = options.max;\n                value = kendo.parseDate(value, options.format, options.culture);\n                if (value !== null) {\n                    value = new DATE(+value);\n                    if (!isInRange(value, min, max)) {\n                        value = null;\n                    }\n                }\n                if (value === null || !that.options.disableDates(new Date(+value))) {\n                    that._value = value;\n                } else if (that._value === undefined) {\n                    that._value = null;\n                }\n                return that._value;\n            },\n            clearSelection: function () {\n                var that = this;\n                if (that.selectable) {\n                    that.element.find(DOT + SELECTED).removeClass(SELECTED);\n                }\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.clear(true);\n                }\n            },\n            _restoreSelection: function () {\n                var that = this;\n                var range;\n                var selectable = that.options.selectable;\n                if (that._currentView.name !== that.options.depth) {\n                    return;\n                }\n                that._preventChange = true;\n                if (selectable === 'range') {\n                    range = that.selectRange();\n                    if (!range || !range.start) {\n                        that._preventChange = false;\n                        return;\n                    }\n                    that.selectRange(range);\n                }\n                if (selectable === 'single' && that.value()) {\n                    that.selectable.value(that._cellByDate(that.value()));\n                }\n                if (selectable === 'multiple') {\n                    that._visualizeSelectedDatesInView();\n                }\n                that._preventChange = false;\n            },\n            value: function (value) {\n                var that = this;\n                var cell;\n                if (value === undefined) {\n                    return that._value;\n                }\n                value = that._validateValue(value);\n                that.clearSelection();\n                if (value && !that._dateInViews(value)) {\n                    that.navigate(value);\n                }\n                if (value !== null && that._currentView.name === MONTH) {\n                    cell = that._cellByDate(value);\n                    if (that.selectable) {\n                        that.selectable.value(cell);\n                    }\n                    if (that.rangeSelectable) {\n                        that.rangeSelectable.start(cell);\n                        that.rangeSelectable._lastActive = cell;\n                    }\n                }\n            },\n            selectDates: function (dates) {\n                var that = this;\n                var validSelectedDates;\n                var datesUnique;\n                if (dates === undefined) {\n                    return that._selectDates;\n                }\n                datesUnique = dates.map(function (date) {\n                    return date.getTime();\n                }).filter(function (date, position, array) {\n                    return array.indexOf(date) === position;\n                }).map(function (time) {\n                    return new Date(time);\n                });\n                validSelectedDates = $.grep(datesUnique, function (value) {\n                    if (value) {\n                        return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                    }\n                });\n                that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : datesUnique.length === 0 ? datesUnique : that._selectDates;\n                that._visualizeSelectedDatesInView();\n            },\n            selectRange: function (range) {\n                var that = this;\n                var startInRange;\n                var endInRange;\n                var visibleRange;\n                if (range === undefined) {\n                    return that._range;\n                }\n                that._range = range;\n                if (!range.start) {\n                    return;\n                }\n                visibleRange = that._visibleRange();\n                startInRange = that._dateInViews(range.start);\n                endInRange = range.end && that._dateInViews(range.end);\n                if (!startInRange && endInRange) {\n                    that.rangeSelectable.selectTo(that._cellByDate(range.end));\n                }\n                if (startInRange && endInRange) {\n                    that.rangeSelectable.range(that._cellByDate(range.start), that._cellByDate(range.end));\n                }\n                if (range.end && startInRange && !endInRange) {\n                    that.rangeSelectable.selectFrom(that._cellByDate(range.start));\n                }\n                if (!range.end && startInRange) {\n                    that.rangeSelectable.start(that._cellByDate(range.start));\n                }\n                if (+visibleRange.start > +range.start && +visibleRange.end < +range.end) {\n                    that.rangeSelectable.mid(that.element.find(CELLSELECTORVALID));\n                }\n            }\n        });\n        kendo.ui.plugin(MultiViewCalendar);\n        function mousetoggle(e) {\n            var disabled = $(this).hasClass('k-state-disabled');\n            if (!disabled) {\n                $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n            }\n        }\n        function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n            for (var i = 0; i <= numberOfDays; i++) {\n                var nextDay = new Date(fromDate.getTime());\n                nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n                if (!disableDates(nextDay)) {\n                    array.push(nextDay);\n                }\n            }\n        }\n        function daysBetweenTwoDates(startDate, endDate) {\n            if (+endDate < +startDate) {\n                var temp = +startDate;\n                calendar.views[0].setDate(startDate, endDate);\n                calendar.views[0].setDate(endDate, new Date(temp));\n            }\n            var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n            var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n            return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n        }\n        function shiftDate(value, dimension, numberOfViews) {\n            var current;\n            if (dimension === 'month') {\n                current = new DATE(value.getFullYear(), value.getMonth() + numberOfViews, value.getDate());\n                current.setFullYear(value.getFullYear());\n                if (Math.abs(current.getMonth() - value.getMonth()) > numberOfViews) {\n                    current.setMonth(value.getMonth() + numberOfViews);\n                    current = calendar.views[0].last(current);\n                }\n                return current;\n            } else if (dimension === 'year') {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + numberOfViews);\n                    current = calendar.views[1].last(current);\n                }\n                return current;\n            } else if (dimension === 'decade') {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > 10 * numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                    current = calendar.views[2].last(current);\n                }\n                return current;\n            } else if (dimension === 'century') {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > 100 * numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                    current = calendar.views[3].last(current);\n                }\n                return current;\n            }\n        }\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}