@using BusinessLayer.Views
@using Kendo.Mvc.UI
@using WebDevelopment.Helper
@{
    ViewData["Title"] = "index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var documents = (List<DocumentView>) ViewData["Documents"];
    var modalUrl = @Url.Action("Modal", "Document", new {id = "_DOCID_"});
    var fileUrl = @Url.Action("OpenPdf", "File", new {fileId = "_FILEID_" });
}
<div class="row">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-header">
                <h5>Documents</h5>
            </div>
            <div class="card-block">

                @(Html.Kendo().Grid(documents)
                .Name("Grid")
                .Columns(columns =>
                {

                    columns.Bound(p => p.FileId).ClientTemplate(KendoHelper.PdfButton(Url.Action("OpenPdf", "File"), "FileId")).Title(" ").Width(60).Sortable(false).Groupable(false).Filterable(false);
                    columns.Bound(p => p.DocumentType.FullName).Title("Type").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200);
                    columns.Bound(p => p.DocumentSubType.Name).Title("Title").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200);
                    columns.Bound(p => p.ContractNumber).Title("№ Doc").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200);
                    columns.Bound(p => p.Description).Title("Description").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200);
                    columns.Bound(p => p.IssueDateValidFrom).Title("Issue").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200).ClientTemplate("#= kendo.toString(IssueDateValidFrom, \"dd.MM.yyyy\") #");
                    columns.Bound(p => p.IssueNumber).Title("№ Issue").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200);
                    columns.Bound(p => p.IssueDateValidTo).Title("Valid To").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200).ClientTemplate("#= kendo.toString(IssueDateValidTo, \"dd.MM.yyyy\") #");
                    columns.Bound(p => p.RevisionDateFrom).Title("Rev.Date").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200).ClientTemplate("#= kendo.toString(RevisionDateFrom, \"dd.MM.yyyy\") #");
                    columns.Bound(p => p.RevNumber).Title("№ Rev.").Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Width(200);
                    columns.Bound(p => p.RevisionDateValidToString).Filterable(ftb => ftb.Cell(cell => cell.ShowOperators(false))).Title("Valid To").Width(200);

                })
                .ToolBar(tools => tools.Excel())
                .Excel(excel => excel
                    .FileName("Documents.xlsx")
                    .Filterable(true)
                    .AllPages(true)
                    .ProxyURL(Url.Action("ExcelExport", "Excel"))
                )
                .Scrollable(scrollable => scrollable.Height(550))
                .Reorderable(reorderable => reorderable.Columns(true))
                .Resizable(resizable => resizable.Columns(true))
                .Pageable()
                .Filterable(ftb => ftb.Mode(GridFilterMode.Row))
                .Sortable()
                .Groupable()
                .ColumnMenu()
                .DataSource(dataSource => dataSource
                    .Ajax()
                    .PageSize(250)
                    .ServerOperation(false)
                    .Read(read => read.Action("", ""))
                      ))

            </div>
        </div>
    </div>
</div>